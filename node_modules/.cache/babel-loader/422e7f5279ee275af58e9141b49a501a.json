{"ast":null,"code":"import store from 'store';\nimport { apiPath } from './config';\n\nfunction get(path) {\n  return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n  return performRequest('post', path, body);\n}\n\nfunction del(path) {\n  return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body) {\n  var token = store.get('token');\n  return window.fetch(\"\".concat(apiPath).concat(path), {\n    method: method,\n    body: body ? JSON.stringify(body) : null,\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(token),\n      'Content-Type': 'application/json'\n    })\n  }).then(function (response) {\n    return response.json();\n  });\n}\n\nexport default {\n  get: get,\n  post: post,\n  del: del\n};","map":{"version":3,"sources":["/Users/will/Documents/beader.org/react/src/api.js"],"names":["store","apiPath","get","path","performRequest","post","body","del","method","token","window","fetch","JSON","stringify","headers","Headers","then","response","json"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,UAAxB;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmB;AACf,SAAOC,cAAc,CAAC,KAAD,EAAQD,IAAR,EAAc,IAAd,CAArB;AACH;;AAED,SAASE,IAAT,CAAcF,IAAd,EAAoBG,IAApB,EAA0B;AACtB,SAAOF,cAAc,CAAC,MAAD,EAASD,IAAT,EAAeG,IAAf,CAArB;AACH;;AAED,SAASC,GAAT,CAAaJ,IAAb,EAAmB;AACf,SAAOC,cAAc,CAAC,QAAD,EAAWD,IAAX,CAArB;AACH;;AAED,SAASC,cAAT,CAAwBI,MAAxB,EAAgCL,IAAhC,EAAsCG,IAAtC,EAA4C;AACxC,MAAMG,KAAK,GAAGT,KAAK,CAACE,GAAN,CAAU,OAAV,CAAd;AAEA,SAAOQ,MAAM,CAACC,KAAP,WAAgBV,OAAhB,SAA0BE,IAA1B,GAAkC;AACrCK,IAAAA,MAAM,EAANA,MADqC;AAErCF,IAAAA,IAAI,EAAEA,IAAI,GAAGM,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAH,GAA0B,IAFC;AAGrCQ,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACrB,wCAA2BN,KAA3B,CADqB;AAErB,sBAAiB;AAFI,KAAZ;AAH4B,GAAlC,EAQNO,IARM,CAQD,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GARP,CAAP;AASH;;AAED,eAAe;AACXhB,EAAAA,GAAG,EAAHA,GADW;AAEXG,EAAAA,IAAI,EAAJA,IAFW;AAGXE,EAAAA,GAAG,EAAHA;AAHW,CAAf","sourcesContent":["import store from 'store';\n\nimport { apiPath } from './config';\n\nfunction get(path) {\n    return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n    return performRequest('post', path, body);\n}\n\nfunction del(path) {\n    return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body) {\n    const token = store.get('token');\n\n    return window.fetch(`${apiPath}${path}`, {\n        method,\n        body: body ? JSON.stringify(body) : null,\n        headers: new Headers({\n        'Authorization': `Bearer ${token}`,\n        'Content-Type' : 'application/json',\n        })\n    })\n    .then(response => response.json());\n}\n\nexport default {\n    get,\n    post,\n    del\n}"]},"metadata":{},"sourceType":"module"}